{{!-- <div class="mdl-layout mdl-js-layout mdl-color--grey-100"> --}}
<main class="mdl-layout__content">
    <div class="mdl-card mdl-shadow--6dp">
        <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
            <h2 class="mdl-card__title-text">Sign up for mikebook!!</h2>
        </div>
        <div class="mdl-card__supporting-text">
            <form action="#">
                <div class="mdl-textfield mdl-js-textfield">
                    <input class="mdl-textfield__input" type="text" id="username" />
                    <label class="mdl-textfield__label" for="username">Email</label>
                </div>
                <div class="mdl-textfield mdl-js-textfield">
                    <input class="mdl-textfield__input" type="text" id="nickname" />
                    <label class="mdl-textfield__label" for="nickname">Nick Name</label>
                </div>
                <div class="mdl-textfield mdl-js-textfield">
                    <input class="mdl-textfield__input" type="password" id="userpass" />
                    <label class="mdl-textfield__label" for="userpass">Password</label>
                </div>
                <div class="mdl-textfield mdl-js-textfield">
                    <input class="mdl-textfield__input" type="password" id="confirmpass" />
                    <label class="mdl-textfield__label" for="userpass">Confirm Password</label>
                </div>
            </form>
        </div>
        <div class="mdl-card__actions mdl-card--border">
            <button onclick="signup()" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">SIGN
                UP</button>
        </div>
    </div>
</main>
{{!-- </div> --}}

<script>
    function signup() {
        let user = document.getElementById("username").value;
        let nickname = document.getElementById("nickname").value;
        let pass = document.getElementById("userpass").value;
        let confirmPass = document.getElementById("confirmpass").value;
        if (pass === confirmPass) {
            let userObj = {}
            userObj.email = user;
            userObj.password = pass;
            userObj.nickname = nickname;
            fetch("./api/users", {
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                method: "POST",
                body: JSON.stringify(userObj)
            }).then(function (response) {
                console.log(userObj)
                window.location.href = "./"
                alert("Your user was created, go ahead and log in.")
            })

        } else {
            alert("Hmmm somethings funky with what you've entered. Try again!")
        }

    }

</script>